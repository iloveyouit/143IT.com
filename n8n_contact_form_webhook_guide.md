
# üåê n8n Contact Form Webhook Workflow Guide

This guide provides a complete walkthrough to integrate your website's "Send Us a Message" form with **n8n** to automatically send an email and log data into Google Sheets.

---

## üß† Overview

### Workflow Summary
```
Webhook (receive form)
   ‚Üì
Function (format + timestamp)
   ‚Üì
Email (send HTML summary)
   ‚Üì
Google Sheets (append log)
```

### Features
‚úÖ Receives data from your website form  
‚úÖ Sends formatted HTML email to admin  
‚úÖ Logs details automatically in Google Sheets  

---

## ‚öôÔ∏è Step 1 ‚Äî Create Webhook Node

| Setting | Value |
|----------|-------|
| **Name** | Webhook |
| **HTTP Method** | POST |
| **Path** | `contact-form` |
| **Response Mode** | On Received |
| **Response Data** | JSON |
| **Response Body** | `{ "success": true, "message": "Form submitted successfully!" }` |

Save ‚Üí Copy the **Test URL** for testing. Once working, activate the workflow and use the **Production URL**.

---

## ‚öôÔ∏è Step 2 ‚Äî Update Website Form

```html
<form id="contactForm">
  <input type="text" name="name" placeholder="Name" required />
  <input type="email" name="email" placeholder="Email" required />
  <input type="text" name="company" placeholder="Company" />
  <input type="text" name="phone" placeholder="Phone" />
  <select name="service">
    <option value="">Select a service</option>
    <option value="Cloud">Cloud Infrastructure</option>
    <option value="Automation">Automation & DevOps</option>
    <option value="Security">Cybersecurity</option>
  </select>
  <textarea name="message" placeholder="Your message..." required></textarea>
  <button type="submit">Send Message</button>
</form>

<script>
document.getElementById('contactForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const formData = Object.fromEntries(new FormData(e.target).entries());

  const response = await fetch('https://n8n.yourdomain.com/webhook/contact-form', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(formData)
  });

  const result = await response.json();
  alert(result.message);
});
</script>
```

---

## ‚öôÔ∏è Step 3 ‚Äî Add Function Node (Format Data)

| Setting | Value |
|----------|-------|
| **Name** | Format Form Data |

```js
return [{
  json: {
    name: $json.name,
    email: $json.email,
    company: $json.company || "N/A",
    phone: $json.phone || "N/A",
    service: $json.service || "Not specified",
    message: $json.message,
    submitted_at: new Date().toLocaleString('en-US', { timeZone: 'America/Toronto' })
  }
}];
```

---

## ‚öôÔ∏è Step 4 ‚Äî Add Email Node (Send HTML Summary)

| Setting | Value |
|----------|-------|
| **From Email** | noreply@143it.com |
| **To Email** | you@143it.com |
| **Subject** | üì© New Contact Form Submission from {{$json.name}} |

### HTML Body
```html
<div style="font-family:Arial, sans-serif; background:#f4f6f8; padding:20px;">
  <div style="max-width:600px;margin:auto;background:#ffffff;padding:20px;border-radius:10px;">
    <h2 style="color:#0078d7;">New Website Contact Submission</h2>
    <table style="width:100%;border-collapse:collapse;">
      <tr><td><b>Name:</b></td><td>{{$json.name}}</td></tr>
      <tr><td><b>Email:</b></td><td>{{$json.email}}</td></tr>
      <tr><td><b>Company:</b></td><td>{{$json.company}}</td></tr>
      <tr><td><b>Phone:</b></td><td>{{$json.phone}}</td></tr>
      <tr><td><b>Service Interested In:</b></td><td>{{$json.service}}</td></tr>
      <tr><td><b>Message:</b></td><td>{{$json.message}}</td></tr>
      <tr><td><b>Submitted:</b></td><td>{{$json.submitted_at}}</td></tr>
    </table>
    <hr>
    <p style="font-size:12px;color:#666;">This email was automatically generated by the 143IT contact form webhook.</p>
  </div>
</div>
```

---

## ‚öôÔ∏è Step 5 ‚Äî Add Google Sheets Node

| Setting | Value |
|----------|-------|
| **Operation** | Append |
| **Sheet Name** | Form Submissions |
| **Columns** | Timestamp, Name, Email, Company, Phone, Service, Message |

Map the following fields:
| Sheet Column | Expression |
|---------------|------------|
| Timestamp | {{$json.submitted_at}} |
| Name | {{$json.name}} |
| Email | {{$json.email}} |
| Company | {{$json.company}} |
| Phone | {{$json.phone}} |
| Service | {{$json.service}} |
| Message | {{$json.message}} |

---

## üîó Workflow Connections

```
Webhook ‚Üí Format Form Data ‚Üí Send Email ‚Üí Log to Google Sheets
```

---

## ‚úÖ Optional Enhancements
- Add a confirmation email to the submitter (`EmailSend` node to `$json.email`)  
- Add Slack or Teams notifications  
- Add a Filter node for spam protection  
- Include reCAPTCHA verification on your site  

---

## üîí Security
Use HTTPS and add an Authorization header in your website form if needed:
```js
headers: {
  'Content-Type': 'application/json',
  'Authorization': 'Bearer MY_SECRET_TOKEN'
}
```

---

## üß© Workflow JSON
A complete JSON version of the workflow is included in the original conversation. Import it into n8n directly.

---

### üí° Notes for LLM Agents
- Validate Google Sheets credentials before running.  
- Replace placeholder domains and emails with production ones.  
- Ensure CORS headers are configured if hosted externally.  
- Optionally extend the workflow to include Notion or Airtable nodes.  

---
**Author:** 143IT ‚Äî Automated Infrastructure Systems  
**Purpose:** Automate contact form submissions through n8n for logging, notifications, and reporting.
